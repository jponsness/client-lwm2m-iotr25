name: clientlwm2miotr25
base: core18
version: V1
summary: IOTR 2.5 LwM2M Client
description: |
  LwM2M Client for IOTR 2.5
confinement: strict
grade: stable

apps:
  clientlwm2miotr25:
    command: clientlwm2miotr25
    daemon: simple
    plugs:
      - network
      - network-bind
      - snapd-control
      - shutdown
parts:
  client:
    override-build: |
      cd src && env GOROOT_BOOTSTRAP=$(go env GOROOT | tr -d '\n') GO111MODULE=off ./make.bash
      cd ..
      cp -R bin $SNAPCRAFT_PART_INSTALL
      ./prepare.sh
    build-packages:
      - cmake
      - autoconf
    plugin: go
    source: .
    source-type: local
    go-importpath: launchpad.net/ce-web/alpaca
    build-snaps: [go]
    
    
